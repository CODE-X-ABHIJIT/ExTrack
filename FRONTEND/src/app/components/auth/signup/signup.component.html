<div class="signup-container">
  <div class="container">
    <div class="row justify-content-center align-items-center min-vh-100 py-5">
      <div class="col-md-6 col-lg-5">
        <!-- Signup Card -->
        <div
          class="card border-0 shadow-lg"
          style="background: rgba(255, 255, 255, 0.95); border-radius: 20px"
        >
          <!-- Card Header -->
          <div
            class="card-header border-0 bg-transparent text-center pt-5 pb-3"
          >
            <div
              class="bg-success bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
              style="width: 80px; height: 80px"
            >
              <i
                class="bi bi-person-plus text-success"
                style="font-size: 2.5rem"
              ></i>
            </div>
            <h2 class="fw-bold mb-2">Create Account</h2>
            <p class="text-muted mb-0">Join ExTrack to manage your finances</p>
          </div>

          <!-- Card Body -->
          <div class="card-body px-5 pb-5">
            <!-- Success Alert -->
            <div
              *ngIf="success"
              class="alert alert-success d-flex align-items-center"
              role="alert"
            >
              <i class="bi bi-check-circle-fill me-2"></i>
              <div>Registration successful! Redirecting to login...</div>
            </div>

            <!-- Error Alert -->
            <div
              *ngIf="error"
              class="alert alert-danger d-flex align-items-center"
              role="alert"
            >
              <i class="bi bi-exclamation-triangle-fill me-2"></i>
              <div>{{ error }}</div>
            </div>

            <!-- Signup Form -->
            <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
              <!-- Full Name -->
              <div class="mb-3">
                <label class="form-label fw-semibold">
                  <i class="bi bi-person me-1"></i>Full Name
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  formControlName="fullName"
                  placeholder="Enter your full name"
                  [class.is-invalid]="
                    signupForm.get('fullName')?.invalid &&
                    signupForm.get('fullName')?.touched
                  "
                />
                <div class="invalid-feedback">Full name is required</div>
              </div>

              <!-- Username -->
              <div class="mb-3">
                <label class="form-label fw-semibold">
                  <i class="bi bi-at me-1"></i>Username
                </label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  formControlName="username"
                  placeholder="Choose a username"
                  [class.is-invalid]="
                    signupForm.get('username')?.invalid &&
                    signupForm.get('username')?.touched
                  "
                />
                <div class="invalid-feedback">
                  <span *ngIf="signupForm.get('username')?.errors?.['required']"
                    >Username is required</span
                  >
                  <span
                    *ngIf="signupForm.get('username')?.errors?.['minlength']"
                    >Username must be at least 3 characters</span
                  >
                </div>
              </div>

              <!-- Email -->
              <div class="mb-3">
                <label class="form-label fw-semibold">
                  <i class="bi bi-envelope me-1"></i>Email Address
                </label>
                <input
                  type="email"
                  class="form-control form-control-lg"
                  formControlName="email"
                  placeholder="Enter your email"
                  [class.is-invalid]="
                    signupForm.get('email')?.invalid &&
                    signupForm.get('email')?.touched
                  "
                />
                <div class="invalid-feedback">
                  <span *ngIf="signupForm.get('email')?.errors?.['required']"
                    >Email is required</span
                  >
                  <span *ngIf="signupForm.get('email')?.errors?.['email']"
                    >Please enter a valid email</span
                  >
                </div>
              </div>

              <!-- Password -->
              <div class="mb-3">
                <label class="form-label fw-semibold">
                  <i class="bi bi-lock me-1"></i>Password
                </label>
                <input
                  type="password"
                  class="form-control form-control-lg"
                  formControlName="password"
                  placeholder="Create a password"
                  [class.is-invalid]="
                    signupForm.get('password')?.invalid &&
                    signupForm.get('password')?.touched
                  "
                />
                <div class="invalid-feedback">
                  <span *ngIf="signupForm.get('password')?.errors?.['required']"
                    >Password is required</span
                  >
                  <span
                    *ngIf="signupForm.get('password')?.errors?.['minlength']"
                    >Password must be at least 6 characters</span
                  >
                </div>
                <small class="form-text text-muted"
                  >Must be at least 6 characters long</small
                >
              </div>

              <!-- Confirm Password -->
              <div class="mb-4">
                <label class="form-label fw-semibold">
                  <i class="bi bi-lock-fill me-1"></i>Confirm Password
                </label>
                <input
                  type="password"
                  class="form-control form-control-lg"
                  formControlName="confirmPassword"
                  placeholder="Confirm your password"
                  [class.is-invalid]="
                    (signupForm.get('confirmPassword')?.invalid &&
                      signupForm.get('confirmPassword')?.touched) ||
                    passwordMismatch
                  "
                />
                <div class="invalid-feedback">
                  <span
                    *ngIf="signupForm.get('confirmPassword')?.errors?.['required']"
                    >Please confirm your password</span
                  >
                  <span *ngIf="passwordMismatch">Passwords do not match</span>
                </div>
              </div>

              <!-- Terms & Conditions -->
              <div class="form-check mb-4">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="terms"
                  required
                />
                <label class="form-check-label small" for="terms">
                  I agree to the
                  <a href="#" class="text-primary">Terms & Conditions</a> and
                  <a href="#" class="text-primary">Privacy Policy</a>
                </label>
              </div>

              <!-- Submit Button -->
              <div class="d-grid mb-4">
                <button
                  type="submit"
                  class="btn btn-success btn-lg"
                  [disabled]="signupForm.invalid || loading"
                >
                  <span
                    *ngIf="loading"
                    class="spinner-border spinner-border-sm me-2"
                  ></span>
                  <i *ngIf="!loading" class="bi bi-person-plus me-2"></i>
                  {{ loading ? "Creating Account..." : "Create Account" }}
                </button>
              </div>

              <!-- Divider -->
              <div class="text-center mb-4">
                <span class="text-muted">or</span>
              </div>

              <!-- Social Signup Buttons (Optional) -->
              <div class="d-grid gap-2 mb-4">
                <button type="button" class="btn btn-outline-secondary">
                  <i class="bi bi-google me-2"></i>Sign up with Google
                </button>
              </div>

              <!-- Login Link -->
              <div class="text-center">
                <p class="text-muted mb-0">
                  Already have an account?
                  <a
                    routerLink="/login"
                    class="text-success fw-semibold text-decoration-none"
                    >Sign In</a
                  >
                </p>
              </div>
            </form>
          </div>
        </div>

        <!-- Footer Text -->
        <div class="text-center mt-4">
          <p class="text-white-50 small mb-0">
            Â© 2025 <span class="text-white fw-semibold">ExTrack</span>. All
            rights reserved.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
